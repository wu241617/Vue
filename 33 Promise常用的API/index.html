<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Promise常用的API</title>
	</head>
	<body>
		
		<script>
			/* 
			 Promise常用的API
			 1,实例方法（原型中的方法）
			 p.then()-->得到异步任务的正确结果
			 p.catch()-->获取异常信息
			 p.finally()-->成功与否都会执行（尚且不是正是标准）
			 
			 2,对象方法
			 -->Promise.all()-->并发的处理多个异步任务，所有任务都执行完才能得到结果
			 -->Promise.race()-->并发处理多个异步任务，只要一个任务完成就能得到结果
			 -->resolve和reject...
			 */
			function foo(){
				return new Promise(function(resolve,reject){
					setInterval(function(){
						//resolve(123);
						reject("有错误出现！");
					},1000);
				});
			}
			
			/* foo().then(function(data){
				console.log(data);
			},function(data){
				console.log(data);
			}).finally(function(){
				console.log("finished!");
			}); */
			
			foo().then(function(data){
				console.log(data);
			}).catch(function(data){
				console.log(data);
			}).finally(function(){
				console.log("finished!");
			});
			
		</script>
	</body>
</html>
