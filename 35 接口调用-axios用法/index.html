<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>接口调用-axios用法</title>
	</head>
	<body>
		<script src="axios.js"></script>
		<script>
			/* 
			 接口调用-axios用法
			 1,基本特性
			 axios是一个基于Promise用于浏览器和node.js的HTTP客户端
			 -->支持浏览器和node.js
			 -->支持promise
			 -->能拦截请求和响应
			 -->自动转换JSON数据
			 
			 2,axios的常用API
			 -->get:查询数据
			    GET传递参数：
				-->Restful形式的UR /
				-->传统形式的URL ?
				-->通过params
				
			 -->post:添加数据
				 POST传参方式
				-->通过选项传递参数{},默认传递的是json格式的数据 
				-->通过URLSearchParams传递参数（application/x-www-form-urlencoded）
				
				
			 -->put:修改数据
			     PUT传参方式
				 -->通过选项传递参数{},默认传递的是json格式的数据
				 -->通过URLSearchParams传递参数（application/x-www-form-urlencoded）
			 
			 -->delete:删除数据
				 DELETE传递参数：
				 -->传统形式的URL ?
				 -->Restful形式的UR /
				 -->通过params
				 
			3,axios的响应结果
			  响应结果的主要属性
			  -->data:实际响应回来的数据
			  -->headers:响应头信息
			  -->status:响应状态码
			  -->statusText:响应状态信息
			 */
			axios.get("test.txt").then(function(ret){
				//data属性是固定的用法，用于获取后台的实际数据
				console.log(ret.data);
			})
			
			axios.get("test.php?name=wuhao").then(function(ret){
				console.log(ret.data);
			})
			
			axios.get("test.php/wuhao").then(function(ret){
				console.log(ret.data);
			})
			
			axios.get("test.php",{
				params:{
					id:12
				}
			}).then(function(ret){
				console.log(ret.data);
			})
			
	/* ===================================================== */
	
	axios.delete("test.php?name=wuhao").then(function(ret){
		console.log(ret.data);
	})
	
	axios.delete("test.php/wuhao").then(function(ret){
		console.log(ret.data);
	})
	
	axios.delete("test.php",{
		params:{
			id:12
		}
	}).then(function(ret){
		console.log(ret.data);
	})
	/* ======================================================= */		
			axios.post("url",{
				name:"liming",
				pwd:123
			}).then(function(ret){
				console.log(ret.data);
			})
			
			var params = new URLSearchParams();
			params.append("name","liming");
			params.append("pwd","123");
			axios.post("url",params).then(function(ret){
				console.log(ret.data);
			})
			
	/* ================================================ */
		axios.put("url?id=1",{
			name:"liming",
			pwd:123
		}).then(function(ret){
			console.log(ret.data);
		})
		
		var params = new URLSearchParams();
		params.append("name","liming");
		params.append("pwd","123");
		axios.put("url?id=1",params).then(function(ret){
			console.log(ret.data);
		})
		</script>
	</body>
</html>
